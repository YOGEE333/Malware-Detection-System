import os
import streamlit as st

from file_checker import checkFile

st.title("MALWARE DETECTION SYSTEM")

file = st.file_uploader("<UPLOAD A FILE>", accept_multiple_files=True)
if len(file):
    with st.spinner("CHECKING..."):
        for i in file:
            open('malwares/tempFile', 'wb').write(i.getvalue())
            legitimate = checkFile("malwares/tempFile")
            os.remove("malwares/tempFile")
            if legitimate:
                st.write(f"FILE {i.name} SEEMS *LEGITIMATE*:>)")
            else:
                st.markdown(f"FILE {i.name} IS PROBABLY A **MALWARE**!!!")
